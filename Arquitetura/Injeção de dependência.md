# Injeção de dependência

## O que é injeção de dependência?

A DI (injeção de dependência) é uma técnica para obter um acoplamento flexível entre objetos e seus colaboradores, ou dependências. Em vez de criar uma instância de colaboradores diretamente, ou usar referências estáticas, os objetos de que uma classe precisa para realizar suas ações são fornecidos para a classe de alguma forma. Geralmente, as classes declararão suas dependências por meio de seu construtor, possibilitando que elas sigam o [Princípio de Dependências Explícitas](http://deviq.com/explicit-dependencies-principle/). Essa abordagem é conhecida como "injeção de construtor".

Quando as classes são criadas com a DI em mente, elas têm um acoplamento mais flexível porque não têm dependências diretas e embutidas em código em seus colaboradores. Isso segue o [Princípio de Inversão de Dependência](http://deviq.com/dependency-inversion-principle/), que indica que _"módulos de nível alto não devem depender de módulos de nível baixo; ambos devem depender de abstrações"._ Em vez de referenciar implementações específicas, as classes solicitam abstrações (geralmente, `interfaces`) que são fornecidas a elas quando a classe é construída. A extração de dependências em interfaces e fornecimento de implementações dessas interfaces como parâmetros também é um exemplo do [Padrão de design de estratégia](http://deviq.com/strategy-design-pattern/).

Quando um sistema é projetado para usar a DI, com muitas classes solicitando suas dependências por meio de seu construtor (ou propriedades), é útil ter uma classe dedicada à criação dessas classes com suas dependências associadas. Essas classes são chamadas de _contêineres_ ou mais especificamente, contêineres [IoC (Inversão de Controle)](http://deviq.com/inversion-of-control/) ou contêineres DI (Injeção de Dependência). Basicamente, um contêiner é um alocador responsável por fornecer instâncias dos tipos solicitados dele. Se determinado tipo declarou que tem dependências e o contêiner foi configurado para fornecer os tipos de dependência, ele criará as dependências como parte da criação da instância solicitada. Dessa forma, grafos de dependência complexos podem ser fornecidos para classes sem a necessidade de uma construção de objeto embutida em código.Além de criar objetos com suas dependências, os contêineres normalmente gerenciam tempos de vida de objeto no aplicativo.

*Martin Fowler escreveu um artigo abrangente sobre [Contêineres de Inversão de Controle e o padrão de injeção de dependência](https://www.martinfowler.com/articles/injection.html). O grupo Padrões e Práticas Microsoft também tem uma ótima descrição sobre a [Injeção de Dependência](https://msdn.microsoft.com/library/hh323705.aspx).*
